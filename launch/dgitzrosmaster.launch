<!--xml-->
<launch>
    <include file="$(find icarus_rover_v2)/launch/ConfigLaunch/robotconfigload.launch" />
    <node name="$(env ROS_HOSTNAME)_master_node" pkg="icarus_rover_v2" type="master_node"  output="screen" clear_params="true">
        <param name="loop_rate"             value="500"/>
	    <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/>    
    </node>
	<node name="$(env ROS_HOSTNAME)_network_transceiver_node" pkg="icarus_rover_v2" type="network_transceiver_node"  output="screen" clear_params="true">
        <param name="loop_rate"             value="500"/>
        <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="Send_Multicast_Group"       value="239.255.43.21"/>
        <param name="Send_Multicast_Port"        value="45454"/>
        <param name="Recv_Unicast_Port"          value="5678"/>
        <param name="Mode"                  value="Diagnostics_GUI"/> 
    </node>
    <node name="$(env ROS_HOSTNAME)_command_node" pkg="icarus_rover_v2" type="command_node"  output="screen" clear_params="true">
        <param name="loop_rate"             value="500"/>
	    <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/>    
        <param name="ready_to_arm_topic1" value="/dgitzrosmaster_diagnostic_node/ready_to_arm"/>
        <param name="ready_to_arm_topic2" value="/dgitzrosmaster_network_transceiver_node/ready_to_arm"/>
        <!--<param name="ready_to_arm_topic3" value="/ControlModule1_gpio_node/ready_to_arm"/>-->
        <param name="user_armcommand_topic" value="/Diagnostics_GUI/user_armcommand"/>
    </node>
    <node name="$(env ROS_HOSTNAME)_diagnostic_node" pkg="icarus_rover_v2" type="diagnostic_node"  output="screen" clear_params="true">
        <param name="loop_rate"             value="500"/>
        <param name="verbosity_level"       value="INFO"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="RAM_usage_threshold_MB"    value="2000"/>
        <param name="CPU_usage_threshold_percent"    value="50"/> 
        <param name="Log_Resources_Used"        value="1"/>  
    </node>
    <node name="$(env ROS_HOSTNAME)_teleop_node" pkg="icarus_rover_v2" type="teleop_node"  output="screen" clear_params="true">
        <param name="loop_rate"             value="500"/>
	    <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/>    
        <param name="joystick_topic"         value="Diagnostics_GUI/joystick"/>
        <param name="Channel0_Name"         value="Steer"/>
        <param name="Steer_Inverted"        value="1" />
        <param name="Steer_MinValue" value="1300" />
        <param name="Steer_NeutralValue" value="1620" />
        <param name="Steer_MaxValue" value="1850" />
        <param name="Steer_OutputChannel"   value="0"/>
        <param name="Steer_Deadband"         value="0.1"/>
        <param name="Channel3_Name" value="Drive"/>
        <param name="Drive_Inverted"        value="0" />
        <param name="Drive_MinValue" value="1350" />
        <param name="Drive_NeutralValue" value="1500" />
        <param name="Drive_MaxValue" value="1650" />
        <param name="Drive_OutputChannel"   value="2"/>
        <param name="Drive_Deadband"         value="0.1"/>
        
    </node>
</launch>
