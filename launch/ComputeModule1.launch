<!--xml-->
<launch>
    <node name="$(env ROS_HOSTNAME)_master_node" pkg="icarus_rover_v2" type="master_node"  output="screen" clear_params="true">
	    <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/>
        <param name="loop1_rate"            value="1"/> <!-- device,resource available, -->    
    </node>
    <node name="$(env ROS_HOSTNAME)_network_transceiver_node" pkg="icarus_rover_v2" type="network_transceiver_node"  output="screen" clear_params="true">
        <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="Send_Multicast_Group"       value="239.255.43.21"/>
        <param name="Send_Multicast_Port"        value="45454"/>
        <param name="Recv_Unicast_Port"          value="5678"/>
        <param name="Mode"                  value="DriverStation"/> <!--Diagnostics_GUI-->
        <param name="loop1_rate"            value="0.1"/> <!-- scan -->  
        <param name="loop2_rate"            value="10.0"/> <!-- Ready To Arm -->
        <param name="loop3_rate"            value="50.0"/> <!-- Process Update -->
    </node>
    <node name="$(env ROS_HOSTNAME)_command_node" pkg="icarus_rover_v2" type="command_node"  output="screen" clear_params="true">
	    <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/>  
        <param name="ready_to_arm_topic1"   value="/ControlModule2_hatcontroller_node/ready_to_arm"/>
        <param name="ready_to_arm_topic2"   value="/ComputeModule1_diagnostic_node/ready_to_arm" />
        <param name="ready_to_arm_topic3"   value="/ControlModule2_safety_node/ready_to_arm" />
        <param name="user_command_topic" value="/DriverStation/user_command"/>
        <param name="loop1_rate"            value="10"/> <!-- armed_state -->
        <param name="loop2_rate"            value="20"/> <!-- process update -->
        <param name="loop3_rate"            value="1"/> <!-- command publish -->
    </node>
     <node name="$(env ROS_HOSTNAME)_topicremapper_node" pkg="icarus_rover_v2" type="topicremapper_node"  output="screen" clear_params="true">
        <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/> 
    </node>
    <node name="$(env ROS_HOSTNAME)_timemaster_node" pkg="icarus_rover_v2" type="timemaster_node"  output="screen" clear_params="true">
	    <param name="verbosity_level"       value="DEBUG"/> 
        <param name="pps_source"            value="self"/>
        <param name="require_pps_to_start"  value="false"/>
        <param name="loop1_rate"            value="1"/> <!-- /1PPS -->
        <param name="loop2_rate"            value="0.1"/> <!-- /01PPS -->
        <param name="loop3_rate"            value="5"/>
    </node>
    <node name="$(env ROS_HOSTNAME)_diagnostic_node" pkg="icarus_rover_v2" type="diagnostic_node"  output="screen" clear_params="true">
        <param name="verbosity_level"       value="INFO"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="RAM_usage_threshold_MB"    value="2000"/>
        <param name="CPU_usage_threshold_percent"    value="30"/> 
        <param name="Log_Resources_Used"        value="1"/>  
        <param name="loop1_rate"            value="1"/> <!-- Check Tasks -->
        <param name="loop2_rate"            value="10"/> <!-- Log Resources, Ready To Arm -->
    </node>
    <node name="$(env ROS_HOSTNAME)_cameracapture_node" pkg="icarus_rover_v2" type="cameracapture_node"  output="screen" clear_params="true">
        <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="operation_mode"        value="capture"/>
        <param name="loop1_rate"            value="10"/> <!-- capture image -->
        <param name="video_device"          value="0"/>
        <param name="image_width"           value="320"/>
        <param name="image_height"          value="240"/>
        <param name="storage_location"      value="/home/robot/external/Unsorted-Pictures"/>
    </node>
    <node name="$(env ROS_HOSTNAME)_roscopter_node" pkg="roscopter" type="roscopter_node.py" output="screen" clear_params="true">
        <param name="com_port"              value="/dev/ttyACM0"/>
        <param name="baud_rate"             value="115200"/>
    </node>
    <node name="$(env ROS_HOSTNAME)_pose_node" pkg="icarus_rover_v2" type="pose_node"  output="screen" clear_params="true">
        <param name="loop_rate"             value="500"/>
        <param name="verbosity_level"       value="NOTICE"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="loop1_rate"            value="200"/> <!-- update -->
        <param name="loop2_rate"            value="50"/> <!-- publish pose -->
        <param name="Attitude_topic"          value="/ComputeModule1_roscopter_node/attitude"/>
		<param name="KF_Yaw_Q0"				value="30.0"/>
		<param name="KF_Yaw_Q1"				value="200.0"/>
		<param name="KF_Yaw_R0"				value="30.0"/>
		<param name="KF_Yaw_R1"				value="200.0"/>
		<param name="KF_Yawrate_Q0"			value="1.0"/>
		<param name="KF_Yawrate_R0"			value="1.0"/>
    </node>
	<node name="$(env ROS_HOSTNAME)_autodrive_node" pkg="icarus_rover_v2" type="autodrive_node"  output="screen" clear_params="true">
        <param name="loop_rate"             value="500"/>
        <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="loop1_rate"            value="200"/> <!-- update -->
        <param name="loop2_rate"            value="50"/> <!-- publish outputs -->
		<param name="Mode"					value="Disabled"/> <!-- DriverStation,Disabled -->
	</node>
</launch>
